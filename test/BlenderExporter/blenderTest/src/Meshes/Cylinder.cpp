#include <blenderTest/Meshes.hpp>
#include <Blob/Materials.hpp>
namespace blenderTest::Meshes {
struct Data {
    float x;
    float y;
    float z;
    float nx;
    float ny;
    float nz;
    float uv0x;
    float uv0y;
};
const Data data[48]{
{-1.0, 1.1924881e-08, -1.0, -0.92387956, -0.38268352, 0.0, 0.25, 0.5},
{-1.0, 1.1924881e-08, -1.0, -0.9238795, 0.38268334, 0.0, 0.25, 0.5},
{-1.0, 1.1924881e-08, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.51, 0.25},
{-1.0, 1.1924881e-08, 1.0, -0.92387956, -0.38268352, 0.0, 0.25, 1.0},
{-1.0, 1.1924881e-08, 1.0, -0.9238795, 0.38268334, 0.0, 0.25, 1.0},
{-1.0, 1.1924881e-08, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.010000005, 0.25},
{-0.7071069, 0.70710665, -1.0, -0.9238795, 0.38268334, 0.0, 0.125, 0.5},
{-0.7071069, 0.70710665, -1.0, -0.38268352, 0.92387944, 0.0, 0.125, 0.5},
{-0.7071069, 0.70710665, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.5802944, 0.4197056},
{-0.7071069, 0.70710665, 1.0, -0.9238795, 0.38268334, 0.0, 0.125, 1.0},
{-0.7071069, 0.70710665, 1.0, -0.38268352, 0.92387944, 0.0, 0.125, 1.0},
{-0.7071069, 0.70710665, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.080294356, 0.4197056},
{-0.7071067, -0.7071068, -1.0, -0.92387956, -0.38268352, 0.0, 0.375, 0.5},
{-0.7071067, -0.7071068, -1.0, -0.38268343, -0.9238795, 0.0, 0.375, 0.5},
{-0.7071067, -0.7071068, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.5802944, 0.08029437},
{-0.7071067, -0.7071068, 1.0, -0.92387956, -0.38268352, 0.0, 0.375, 1.0},
{-0.7071067, -0.7071068, 1.0, -0.38268343, -0.9238795, 0.0, 0.375, 1.0},
{-0.7071067, -0.7071068, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.0802944, 0.08029437},
{-8.742278e-08, -1.0, -1.0, -0.38268343, -0.9238795, 0.0, 0.5, 0.5},
{-8.742278e-08, -1.0, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.75, 0.010000005},
{-8.742278e-08, -1.0, -1.0, 0.38268343, -0.92387956, 0.0, 0.5, 0.5},
{-8.742278e-08, -1.0, 1.0, -0.38268343, -0.9238795, 0.0, 0.5, 1.0},
{-8.742278e-08, -1.0, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.24999999, 0.010000005},
{-8.742278e-08, -1.0, 1.0, 0.38268343, -0.92387956, 0.0, 0.5, 1.0},
{0.0, 1.0, -1.0, -0.38268352, 0.92387944, 0.0, 0.0, 0.5},
{0.0, 1.0, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.75, 0.49},
{0.0, 1.0, -1.0, 0.38268346, 0.92387956, 0.0, 1.0, 0.5},
{0.0, 1.0, 1.0, -0.38268352, 0.92387944, 0.0, 0.0, 1.0},
{0.0, 1.0, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.25, 0.49},
{0.0, 1.0, 1.0, 0.38268346, 0.92387956, 0.0, 1.0, 1.0},
{0.70710677, -0.70710677, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.9197056, 0.080294386},
{0.70710677, -0.70710677, -1.0, 0.38268343, -0.92387956, 0.0, 0.625, 0.5},
{0.70710677, -0.70710677, -1.0, 0.92387956, -0.3826835, 0.0, 0.625, 0.5},
{0.70710677, -0.70710677, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.41970563, 0.080294386},
{0.70710677, -0.70710677, 1.0, 0.38268343, -0.92387956, 0.0, 0.625, 1.0},
{0.70710677, -0.70710677, 1.0, 0.92387956, -0.3826835, 0.0, 0.625, 1.0},
{0.70710677, 0.70710677, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.9197056, 0.41970563},
{0.70710677, 0.70710677, -1.0, 0.38268346, 0.92387956, 0.0, 0.875, 0.5},
{0.70710677, 0.70710677, -1.0, 0.92387956, 0.38268343, 0.0, 0.875, 0.5},
{0.70710677, 0.70710677, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.41970563, 0.41970563},
{0.70710677, 0.70710677, 1.0, 0.38268346, 0.92387956, 0.0, 0.875, 1.0},
{0.70710677, 0.70710677, 1.0, 0.92387956, 0.38268343, 0.0, 0.875, 1.0},
{1.0, -4.371139e-08, -1.0, 2.1073422e-08, 0.0, -0.99999994, 0.99, 0.24999999},
{1.0, -4.371139e-08, -1.0, 0.92387956, -0.3826835, 0.0, 0.75, 0.5},
{1.0, -4.371139e-08, -1.0, 0.92387956, 0.38268343, 0.0, 0.75, 0.5},
{1.0, -4.371139e-08, 1.0, 2.1073424e-08, 0.0, 0.99999994, 0.49, 0.24999999},
{1.0, -4.371139e-08, 1.0, 0.92387956, -0.3826835, 0.0, 0.75, 1.0},
{1.0, -4.371139e-08, 1.0, 0.92387956, 0.38268343, 0.0, 0.75, 1.0}
};
const uint16_t indicesPinkMaterial[84]{26, 29, 40, 26, 40, 37, 38, 41, 47, 38, 47, 44, 43, 46, 35, 43, 35, 32, 31, 34, 23, 31, 23, 20, 18, 21, 16, 18, 16, 13, 12, 15, 3, 12, 3, 0, 45, 39, 28, 28, 11, 5, 5, 17, 22, 22, 33, 45, 45, 28, 5, 5, 22, 45, 1, 4, 9, 1, 9, 6, 7, 10, 27, 7, 27, 24, 8, 25, 36, 36, 42, 30, 30, 19, 14, 14, 2, 8, 8, 36, 30, 30, 14, 8};
Cylinder::Cylinder(Blob::Context &context) {
    Blob::VertexLayout vertexLayout;
    vertexLayout.begin();
    vertexLayout.add<float>(bgfx::Attrib::Position, 3);
    vertexLayout.add<float>(bgfx::Attrib::Normal, 3);
    vertexLayout.add<float>(bgfx::Attrib::TexCoord0, 2);
    vertexLayout.end();
    std::unique_ptr<Blob::VertexBuffer> &CylinderVertexBuffer = context.vertexBuffers["Cylinder"];
    if(!CylinderVertexBuffer)
        CylinderVertexBuffer = std::make_unique<Blob::VertexBuffer>(Blob::Buffer{data}, vertexLayout);
    std::unique_ptr<Blob::RenderOptions> &PinkMaterialRo = context.renderOptions["CylinderPinkMaterial"];
    if(!PinkMaterialRo)
        PinkMaterialRo = std::make_unique<Blob::RenderOptions>(Blob::Buffer{indicesPinkMaterial});
    PinkMaterial.material = Blob::Materials::pbrSingleColor(context, Blob::Color{0.8000000715255737, 0.10869184881448746, 0.22883038222789764, 1.0});
    PinkMaterial.renderOptions = PinkMaterialRo.get();
    PinkMaterial.vertexBuffer = CylinderVertexBuffer.get();
    addPrimitive(PinkMaterial);
}
}
